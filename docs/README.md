
# research-ground documentation

学生の課題提出と教員の採点業務をサポートするWebアプリです。
採点業務の効率化と、学生への最低限のフィードバックを実装するのが
最優先事項。ということで2020,08/07時点の目標とする仕様は以下。

* [*] 学生のファイルアップロード
    + [*] 学生が自分でフォルダを作って授業や単元ごとに
          整理する
    + [ ] 提出や、再提出があった時に、教員に採点が必要で
          あることを報せる仕組み
    + [ ] 提出期限後はアップロードを禁止 (現在実装予定無し)
* [ ] 学生が自分の課題提出状況を確認するためのUI
* [ ] 教員の採点業務
    + [ ] 課題の表示と採点を1画面で可能にするUI
    + [ ] サマリーとか統計情報表示
* [ ] 科目や課題や履修者のSAの管理
* [ ] データーのバックアップ

## ファイルアップローダー

「`アプリのrootのURL/files/`」にアクセスすると一応一通りの
操作ができるUIが表示される。そこで管理しているファイルは
現在の実装では以下のURLで閲覧できる。ただし、これはapp.jsの
中で定義しているid2webid、webid2id、classifier関数によって
調整できるようになっている。現在の実装は情報大学の実情に
合せてあるということ。

* 学生の場合
    + 「`アプリのrootのURL/files/s入学年度/学部学科No/ユーザーID/`」
    + 具体例「`https://s314.do-johodai.ac.jp/research-ground/files/s2018/21/s201821213/`」
    + ユーザーIDは学籍番号の前に「`20`」を付けた物になるので注意
* 教職員の場合
    + 「`アプリのrootのURL/files/faculty/ユーザーID/`」

また「`アプリのrootのURL/files/`」以下ではRESTでファイルを
操作するためのAPIを実装している。まだ十分テストしてないが、
このRESTのAPIを使えば、シングルページアプリケーションで
もっと良いUIが作れると思う。

## データーベース

データーベースにはMongodbを使ってます。Ubuntuで
`sudo apt install mongodb`とした状態で何も設定せずに
使ってます。

データーベース名は決め打ちで`research_ground`です。
今、とりあえずということで以下の内容で、ファイル
アップローダーに関係するログだけ取っている。

* DB name: research_ground
    + Collection name: actions
        - { type: 'action_type', utime: number_of_unixtime, and more }

整理しなおして以下のようにしようかと思っている。

* ログ(action)
    + あらゆるログを残すようにしておきたい
* このシステムで扱う科目
    + 科目ID(大学で決めてるやつにしよう)
    + 科目名
* 管理者アカウント
    + 科目と教員アカウントの情報
* SAアカウント
    + 科目と学生アカウントの情報
* 履修者アカウント
    + 科目と学生アカウントの情報
* 課題情報
    + 課題ID(課題の名前)
    + 何の科目の課題か
    + 何単元目の課題か
    + 課題の出題場所(URL) 問題が掲載されているURL
    + 課題の提出場所(URL) 学生の提出場所のrootからのpathとファイル名を含むURL
    + 配点(最高点数。原則、0:未提出,1:不完全,2:合格、にしたい)
    + 重み(難易度。あった方良いと思う)
* 評価(採点)の管理(課題と学生の組に対して)
    + 課題の状態(未提出、提出、採点済み、再提出)
    + 評価(現在の評価。0以上、配点以下)
    + フィードバック(コメント)
    + 過去のフィードバック(消さないで蓄積して残しておきたい)
* フィードバック(コメント)の管理
      (フィードバックの文章を使い回すための物)
    + 課題ごとのフィードバック(コメント)

